<%= form_for(@patient) do |f| %>
  <% if @patient.errors.any? %>
  <div class="alert alert-danger alert-dismissible">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <h4><span class="label label-danger"><%= t(:register_error) %></span></h4>
    <ul>
    <% @patient.errors.full_messages.each do |message| %>
      <li><%= message %></li>
    <% end %>
    </ul>
  </div>
  <% end %>
  <div class="row dotted">
    <div class="col-md-6">
      <%= t(:patient_details) %>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-2">
      <%= f.label t(:patient) %><br>
    </div>
    <div class="col-sm-4">
      <%= f.text_field :patient, class: "form-control" %>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-2">
      <%= f.label t(:birth) %><br>
    </div>
    <div class="col-sm-4">
      <%= f.text_field :birth, value: date_format(@patient.try(:birth)), class: "form-control", alt: :date %>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-2">
      <%= f.label t(:nationality) %><br>
    </div>
    <div class="col-sm-4">
      <%= f.text_field :nationality, class: "form-control" %>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-2">
      <%= f.label t(:marital_status_id) %><br>
    </div>
    <div class="col-sm-4">
      <%= f.select :marital_status_id, [["Solteiro", 0], ["Casado", 1], ["Separado", 2], ["ViÃºvo", 3], ["Outros", 4]], { include_blank: true }, { class: "form-control" }%>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-2">
      <%= f.label t(:indication_patient_id) %><br>
    </div>
    <div class="col-sm-4">
      <%= f.text_field :indication_patient_id, class: "form-control" %>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-2">
      <%= f.label t(:health_plan_id) %><br>
    </div>
    <div class="col-sm-4">
      <%= f.collection_select :health_plan_id, HealthPlan.all, :id, :name, { include_blank: true }, { class: "form-control" } %>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-2">
      <%= f.label t(:email) %><br>
    </div>
    <div class="col-sm-4">
      <%= f.text_field :email, class: "form-control" %>
    </div>
  </div>
  <div class="row dotted">
    <div class="col-md-8">
      <%= t(:patient_contact) %>
    </div>
    <div class="col-sm-4 text-right">
      <%= link_to t(:new_contact), patients_path %>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 text-right">
      <%= f.submit class: "btn btn-primary" %> <%= link_to t(:back), patients_path, class: "btn btn-default" %>
    </div>
  </div>
<% end %>

<script type="text/javascript">
  $(document).ready(function() {
    $('input[type="text"]').setMask();
  });
</script>